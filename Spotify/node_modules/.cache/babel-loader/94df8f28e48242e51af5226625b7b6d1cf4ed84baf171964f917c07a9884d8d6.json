{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alex\\\\Documents\\\\03-frontend\\\\react-libary\\\\src\\\\FileUpload.js\",\n  _s = $RefreshSig$();\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { useState } from \"react\";\nimport storage from \"./firebaseConfig\";\nimport { SongList } from \"./layouts/HomePage/Components/SongList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FileUpload() {\n  _s();\n  const [progress, setProgress] = useState(0);\n  const formHandler = e => {\n    e.preventDefault();\n    const file = e.target[0].files[0];\n    uploadFiles(file);\n  };\n  const uploadFiles = file => {\n    // State to store uploaded file\n    const storageRef = ref(storage, `/files/${file.name}`);\n    const uploadTask = uploadBytesResumable(storageRef, file);\n    uploadTask.on(\"state_changed\", snapshot => {\n      const prog = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      setProgress(prog);\n    }, err => console.log(err), () => {\n      getDownloadURL(uploadTask.snapshot.ref).then(url => console.log(url));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        className: \"input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Uploaded \", progress, \" %\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}\n_s(FileUpload, \"MDavqfnVfXtrXQtLNoGNVIaRLCY=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["ref","uploadBytesResumable","getDownloadURL","useState","storage","SongList","FileUpload","progress","setProgress","formHandler","e","preventDefault","file","target","files","uploadFiles","storageRef","name","uploadTask","on","snapshot","prog","Math","round","bytesTransferred","totalBytes","err","console","log","then","url"],"sources":["C:/Users/Alex/Documents/03-frontend/react-libary/src/FileUpload.js"],"sourcesContent":["import { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport { useState } from \"react\";\r\nimport storage from \"./firebaseConfig\";\r\nimport { SongList } from \"./layouts/HomePage/Components/SongList\";\r\n\r\nfunction FileUpload() {\r\n    const [progress, setProgress] = useState(0);\r\n    const formHandler = (e) => {\r\n        e.preventDefault();\r\n        const file = e.target[0].files[0];\r\n        uploadFiles(file)\r\n        };\r\n\r\n    const uploadFiles = (file) => {\r\n            // State to store uploaded file\r\n        const storageRef = ref(storage, `/files/${file.name}`);\r\n        const uploadTask = uploadBytesResumable(storageRef, file);\r\n  \r\n        uploadTask.on(\"state_changed\", (snapshot) => {\r\n          const prog = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n          setProgress(prog);\r\n        }, (err) => console.log(err),\r\n        () => {\r\n            getDownloadURL(uploadTask.snapshot.ref)\r\n            .then(url => console.log(url));\r\n        } );\r\n      }\r\n      return(\r\n        <div className=\"App\">\r\n            <form onSubmit={formHandler}>\r\n                <input type=\"file\" className=\"input\"/>\r\n                <button type=\"submit\">Upload</button>\r\n            </form>\r\n            <hr/>\r\n            <h3>Uploaded {progress} %</h3>\r\n        </div>\r\n      );\r\n\r\n}\r\nexport default FileUpload;"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,oBAAoB,EAAEC,cAAc,QAAQ,kBAAkB;AAC5E,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SAASC,QAAQ,QAAQ,wCAAwC;AAAC;AAElE,SAASC,UAAU,GAAG;EAAA;EAClB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAMM,WAAW,GAAIC,CAAC,IAAK;IACvBA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,IAAI,GAAGF,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;IACjCC,WAAW,CAACH,IAAI,CAAC;EACjB,CAAC;EAEL,MAAMG,WAAW,GAAIH,IAAI,IAAK;IACtB;IACJ,MAAMI,UAAU,GAAGhB,GAAG,CAACI,OAAO,EAAG,UAASQ,IAAI,CAACK,IAAK,EAAC,CAAC;IACtD,MAAMC,UAAU,GAAGjB,oBAAoB,CAACe,UAAU,EAAEJ,IAAI,CAAC;IAEzDM,UAAU,CAACC,EAAE,CAAC,eAAe,EAAGC,QAAQ,IAAK;MAC3C,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAEH,QAAQ,CAACI,gBAAgB,GAAGJ,QAAQ,CAACK,UAAU,GAAI,GAAG,CAAC;MAChFjB,WAAW,CAACa,IAAI,CAAC;IACnB,CAAC,EAAGK,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,EAC5B,MAAM;MACFxB,cAAc,CAACgB,UAAU,CAACE,QAAQ,CAACpB,GAAG,CAAC,CACtC6B,IAAI,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;IAClC,CAAC,CAAE;EACL,CAAC;EACD,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAChB;MAAM,QAAQ,EAAErB,WAAY;MAAA,wBACxB;QAAO,IAAI,EAAC,MAAM;QAAC,SAAS,EAAC;MAAO;QAAA;QAAA;QAAA;MAAA,QAAE,eACtC;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAClC,eACP;MAAA;MAAA;MAAA;IAAA,QAAK,eACL;MAAA,WAAI,WAAS,EAACF,QAAQ,EAAC,IAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QAAK;EAAA;IAAA;IAAA;IAAA;EAAA,QAC5B;AAGd;AAAC,GAjCQD,UAAU;AAAA,KAAVA,UAAU;AAkCnB,eAAeA,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}